import{r as p,ac as f,j as e,B as T,ak as y}from"./index-B-wAYjFk.js";import{u as b}from"./useMutation-DydnxJgk.js";import{u as C}from"./useQuery-BQEVoXP1.js";import{T as g,a as D,b as t,C as k}from"./AlretDialog-XTKWu7fJ.js";import{a as U,d as I}from"./apiUsers-CTlIbdPv.js";import{u as v}from"./chunk-7JBTTEVG-eGrrjdQK.js";import{T as A,b as o,a as B,c as a}from"./chunk-T2WCTPDH-BOtn--UU.js";import{f as M}from"./format-CE4V3joc.js";const Q=()=>{const[d,l]=p.useState(null),{isOpen:c,onOpen:i,onClose:m}=v(),h=f(),{data:r}=C("users",U),{isLoading:x,mutate:j}=b({mutationFn:()=>I(d),onSuccess:()=>{h.invalidateQueries({queryKey:["users"]})}}),u=s=>{const n=new Date(s);return isNaN(n.getTime())?"Invalid Date":M(n,"dd/MM/yyyy HH:mm")};return e.jsxs(e.Fragment,{children:[e.jsx(g,{children:e.jsxs(A,{variant:"simple",my:5,children:[e.jsx(D,{children:e.jsxs(o,{children:[e.jsx(t,{children:"ID"}),e.jsx(t,{children:"اسم المستخدم"}),e.jsx(t,{children:"البريد الالكتروني"}),e.jsx(t,{children:"وقت الانشاء"}),e.jsx(t,{children:"Action"})]})}),e.jsx(B,{children:r==null?void 0:r.map(s=>e.jsxs(o,{children:[e.jsx(a,{children:s.id}),e.jsx(a,{children:s==null?void 0:s.username}),e.jsx(a,{children:s==null?void 0:s.email}),e.jsx(a,{children:u(s==null?void 0:s.createdAt)}),e.jsx(a,{children:e.jsx(T,{backgroundColor:"red.600",color:"white",_hover:{backgroundColor:"red.800"},onClick:()=>{l(s.id),i()},children:e.jsx(y,{size:17})})})]},s.id))})]})}),e.jsx(k,{isOpen:c,onOpen:i,onClose:m,mutate:j,loading:x})]})},w=()=>e.jsx(Q,{});export{w as default};
