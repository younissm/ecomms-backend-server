import{r as F,ac as M,j as e,B as S}from"./index-B-wAYjFk.js";import{u as c}from"./useMutation-DydnxJgk.js";import{u as k}from"./useQuery-BQEVoXP1.js";import{u as I,F as L}from"./index.esm-B6lPUqVX.js";import{T as v,g as Q,d as q,c as w}from"./apiCategories-mnykmwL5.js";import{T as A,a as B,b as r,C as E}from"./AlretDialog-XTKWu7fJ.js";import{C as K}from"./Modal-CGAlUOHP.js";import{u as d}from"./chunk-7JBTTEVG-eGrrjdQK.js";import{T as P,b as u,a as J,c as s}from"./chunk-T2WCTPDH-BOtn--UU.js";import{F as N}from"./chunk-56K2BSAJ-C_Q_2N6z.js";import{I as R}from"./chunk-6CVSDS6C-BrWJNjO-.js";import"./chunk-ZHMYA64R-DG8BThpc.js";import"./chunk-GOJLRND4-Cb4C_z-b.js";import"./chunk-PULVB27S-Ch_R_y_s.js";import"./chunk-4FCEGNGT-CqqiBJZ0.js";const _=()=>{const[m,z]=F.useState(null),{register:p,handleSubmit:C}=I(),a=M(),{isLoading:g,data:i}=k("categories",Q);console.log(i);const{isLoading:x,mutate:h}=c({mutationFn:()=>q(m),onSuccess:()=>{a.invalidateQueries({queryKey:["categories"]})}});function j(t){const o=new FormData;o.append("data",JSON.stringify(t)),n({body:o})}const{isLoading:b,mutate:n}=c(w,{onSuccess:()=>{a.invalidateQueries({queryKey:["categories"]})}}),{isOpen:f,onOpen:y,onClose:T}=d(),{isOpen:D,onOpen:l,onClose:O}=d();return g?e.jsx(v,{}):e.jsxs(e.Fragment,{children:[e.jsx(S,{backgroundColor:"purple.600",color:"white",p:"5",_hover:{backgroundColor:"purple.800"},onClick:l,children:"اضف فئة جديدة"}),e.jsx(A,{children:e.jsxs(P,{variant:"simple",my:5,children:[e.jsx(B,{children:e.jsxs(u,{children:[e.jsx(r,{children:"ID"}),e.jsx(r,{children:"Title"}),e.jsx(r,{children:"Action"})]})}),e.jsx(J,{children:i.map((t,o)=>e.jsxs(u,{children:[e.jsx(s,{children:o+1}),e.jsx(s,{children:t}),e.jsx(s,{})]},t))})]})}),e.jsx(E,{isOpen:f,onOpen:y,onClose:T,mutate:h,loading:x}),e.jsx(K,{isModalOpen:D,onModalOpen:l,onModalClose:O,title:"Create Category",okTxt:"Create",loading:b,mutate:n,onSubmit:C(j),children:e.jsxs(N,{children:[e.jsx(L,{children:"Category title"}),e.jsx(R,{placeholder:"Category title",...p("title")})]})})]})},ie=()=>e.jsx(_,{});export{ie as default};
