import{r as L,ac as A,j as s,B as b,L as B,ak as E}from"./index-B-wAYjFk.js";import{u as I}from"./useMutation-DydnxJgk.js";import{u as Q}from"./useQuery-BQEVoXP1.js";import{A as S}from"./index-CVf2sffD.js";import{g as q,d as z}from"./apiReviews-TrU2k0M4.js";import{T as F,a as N,b as a,C as O}from"./AlretDialog-XTKWu7fJ.js";import{u as H}from"./chunk-7JBTTEVG-eGrrjdQK.js";import{T as K,b as T,a as M,c as r}from"./chunk-T2WCTPDH-BOtn--UU.js";const _=()=>{var e;const[g,C]=L.useState(null),{isOpen:f,onOpen:o,onClose:y}=H(),k=A(),{data:n}=Q("reviews",q),{isLoading:R,mutate:D}=I({mutationFn:()=>z(g),onSuccess:()=>{k.invalidateQueries({queryKey:["reviews"]})}});return s.jsxs(s.Fragment,{children:[s.jsx(F,{children:s.jsxs(K,{variant:"simple",my:5,children:[s.jsx(N,{children:s.jsxs(T,{children:[s.jsx(a,{children:"ID"}),s.jsx(a,{children:"المستخدم"}),s.jsx(a,{children:"المنتج"}),s.jsx(a,{children:"المراجعة"}),s.jsx(a,{isNumeric:!0,children:"التقييم"}),s.jsx(a,{children:"Action"})]})}),s.jsx(M,{children:(e=n==null?void 0:n.data)==null?void 0:e.map(t=>{var i,d,c,l,u,m,h,x,j,p;return s.jsxs(T,{children:[s.jsx(r,{children:t.id}),s.jsx(r,{children:(i=t==null?void 0:t.attributes)==null?void 0:i.username}),s.jsx(r,{children:(u=(l=(c=(d=t==null?void 0:t.attributes)==null?void 0:d.product)==null?void 0:c.data)==null?void 0:l.attributes)==null?void 0:u.title}),s.jsx(r,{children:(m=t==null?void 0:t.attributes)==null?void 0:m.review}),s.jsx(r,{isNumeric:!0,children:(h=t==null?void 0:t.attributes)==null?void 0:h.rating}),s.jsxs(r,{children:[s.jsx(b,{as:B,to:`/products/${(p=(j=(x=t==null?void 0:t.attributes)==null?void 0:x.product)==null?void 0:j.data)==null?void 0:p.id}`,colorScheme:"purple",variant:"solid",mr:3,children:s.jsx(S,{size:17})}),s.jsx(b,{backgroundColor:"red.600",color:"white",_hover:{backgroundColor:"red.800"},mr:3,onClick:()=>{C(t.id),o()},children:s.jsx(E,{size:17})})]})]},t.id)})})]})}),s.jsx(O,{isOpen:f,onOpen:o,onClose:y,mutate:D,loading:R})]})},Y=()=>s.jsx(_,{});export{Y as default};
