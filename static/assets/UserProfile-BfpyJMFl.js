import{ac as C,j as e,T as t,B as M}from"./index-B-wAYjFk.js";import{u as F}from"./useMutation-DydnxJgk.js";import{u as k}from"./useQuery-BQEVoXP1.js";import{g as D,u as S}from"./apiUsers-CTlIbdPv.js";import{C as T}from"./Modal-CGAlUOHP.js";import{u as U,F as c}from"./index.esm-B6lPUqVX.js";import{f as v}from"./format-CE4V3joc.js";import{u as w}from"./chunk-7JBTTEVG-eGrrjdQK.js";import{B as n}from"./chunk-PULVB27S-Ch_R_y_s.js";import{H as B}from"./chunk-7OLJDQMT-BuJdq_n8.js";import{F as d}from"./chunk-56K2BSAJ-C_Q_2N6z.js";import{I as p}from"./chunk-6CVSDS6C-BrWJNjO-.js";import"./chunk-4FCEGNGT-CqqiBJZ0.js";const R=()=>{const x=C(),{data:s}=k("users",D);console.log(s);const f=s==null?void 0:s.id,{isOpen:h,onOpen:i,onClose:j}=w(),{register:l,handleSubmit:g}=U();function b(r){const o=`${r.firstname} ${r.lastname}`,u=new FormData;u.append("username",o),a({id:f,body:u})}const{isLoading:y,mutate:a}=F(S,{onSuccess:()=>{x.invalidateQueries({queryKey:["users"]})}}),m=r=>{const o=new Date(r);return isNaN(o.getTime())?"Invalid Date":v(o,"dd/MM/yyyy HH:mm:ss")};return e.jsxs(e.Fragment,{children:[e.jsxs(n,{p:4,children:[e.jsxs(B,{fontSize:{base:"x-large",lg:"xxx-large"},mb:"20px",position:"relative",display:"inline-block",children:["حساب المستخدم",e.jsx(n,{position:"absolute",bottom:"-5px",left:"50%",transform:"translateX(-50%)",width:"100%",height:"3px",backgroundColor:"purple.600"})]}),e.jsxs(n,{mt:4,children:[e.jsx(t,{mb:"3",children:e.jsxs("strong",{children:["اسم المستخدم: ",s==null?void 0:s.username]})}),e.jsx(t,{mb:"3",children:e.jsxs("strong",{children:["البريد الالكتروني: ",s==null?void 0:s.email]})}),e.jsx(t,{mb:"3",children:e.jsxs("strong",{children:["تاريخ الانشاء: ",m(s==null?void 0:s.createdAt)]})}),e.jsx(t,{mb:"3",children:e.jsxs("strong",{children:["اخر تعديل : ",m(s==null?void 0:s.updatedAt)]})})]}),e.jsx(M,{mt:4,backgroundColor:"purple.600",color:"white",size:"large",p:"5",_hover:{backgroundColor:"purple.800"},onClick:()=>i(),children:"تعديل الحساب"})]}),e.jsxs(T,{isModalOpen:h,onModalOpen:i,onModalClose:j,title:"تعديل المستخدم",okTxt:"تعديل",cancelTxt:"الغاء",loading:y,mutate:a,onSubmit:g(b),children:[e.jsxs(d,{children:[e.jsx(c,{children:"الاسم"}),e.jsx(p,{placeholder:"الاسم",id:"firstname",...l("firstname")})]}),e.jsxs(d,{children:[e.jsx(c,{children:"اللقب"}),e.jsx(p,{placeholder:"اللقب",id:"lastname",...l("lastname")})]})]})]})};export{R as default};
