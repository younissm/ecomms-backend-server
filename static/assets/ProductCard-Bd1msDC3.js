import{S as I,x as c,U as T,G as y,j as e,s as B,T as n,ag as u,B as H,L as k,Z as g,aa as S,ab as v,af as A}from"./index-B-wAYjFk.js";import{a as L}from"./apiProduct-DnmNEjyS.js";import{u as D}from"./useQuery-BQEVoXP1.js";import{a as h,b as x,c as m,A as R,q as a}from"./index-CVf2sffD.js";import{C as O,a as W,b as _,c as E}from"./chunk-YQO7BFFX-DcYHKca6.js";import{I as $}from"./chunk-QINAG4RG-Crh5SdU4.js";import{B as f}from"./chunk-PULVB27S-Ch_R_y_s.js";import{I as d}from"./chunk-6QYXN73V-XiCQhsve.js";import{H as F}from"./chunk-7OLJDQMT-BuJdq_n8.js";const V=t=>{const l=I(),b=c(i=>i.cart),j=c(i=>i.wishlist),p=c(i=>i.compare),o=T(),{pathname:w}=y(),C=()=>{const i=b.cart.find(r=>r.id===s.id);!i&&(l(S(s)),o({title:"المنتج تمت اضافته الى عربة التسوق بنجاح",status:"success",duration:3e3,isClosable:!0,position:"top-right",icon:e.jsx(h,{size:20})})),i&&o({title:" المنتج موجود بالفعل في عربة التسوق",status:"warning",duration:3e3,isClosable:!0,position:"top-right",icon:e.jsx(a,{size:20})})},z=()=>{const i=j.wishlist.find(r=>r.id===s.id);!i&&(l(v(s)),o({title:" المنتج تمت اضافته الى قائمة الرغبات بنجاح",status:"success",duration:3e3,isClosable:!0,position:"top-right",icon:e.jsx(x,{size:20})})),i&&o({title:" المنتج موجود بالفعل في قائمة الرغبات ",status:"warning",duration:3e3,isClosable:!0,position:"top-right",icon:e.jsx(a,{size:20})})},P=()=>{p.compare.find(r=>r.id===s.id)?o({title:" المنتج موجود بالفعل في المقارنات ",status:"warning",duration:3e3,isClosable:!0,position:"top-right",icon:e.jsx(a,{size:20})}):p.compare.length<3?(l(A(s)),o({title:" المنتج تمت اضافته الى المقارنات بنجاح",status:"success",duration:3e3,isClosable:!0,position:"top-right",icon:e.jsx(m,{size:20})})):o({title:"لا يمكن اضافة المنتج، يمكنك المقارنة بين 3 منتجات فقط",status:"warning",duration:3e3,isClosable:!0,position:"top-right",icon:e.jsx(a,{size:20})})},{data:s}=D(["product",t.id],()=>L(t.id));return e.jsx(B.div,{whileHover:{scale:1.05},children:e.jsxs(O,{boxShadow:"xl",height:"100%",rounded:"lg",p:"10px",children:[e.jsxs(W,{p:"0",position:"relative",children:[t.discountPercentage>0?e.jsx(n,{color:"white",position:"absolute",top:"0",right:"0",p:"5px",bg:"purple.600",roundedBottomLeft:"lg",roundedTopRight:"lg",children:`-${t.discountPercentage}%`}):null,e.jsxs(f,{display:"flex",flexDirection:"column",gap:"4px",color:"white",position:"absolute",top:"0",left:"0",p:"5px",bg:"purple.600",roundedBottomRight:"lg",roundedTopLeft:"lg",children:[e.jsx(d,{color:"purple.600",_hover:{color:"white",bg:"purple.800"},bg:"white",size:"sm",rounded:"lg",icon:e.jsx(h,{size:"20"}),onClick:C}),e.jsx(d,{color:"purple.600",_hover:{color:"white",bg:"purple.800"},bg:"white",size:"sm",rounded:"lg",icon:e.jsx(x,{size:"20"}),onClick:z}),w!=="/compare"&&e.jsx(d,{color:"purple.600",_hover:{color:"white",bg:"purple.800"},bg:"white",size:"sm",rounded:"lg",icon:e.jsx(m,{size:"20"}),onClick:P})]}),e.jsx($,{src:t.thumbnail,alt:t.title,mx:"auto",objectFit:"fill",width:"100%",rounded:"lg",aspectRatio:"1/1"})]}),e.jsxs(_,{p:0,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",children:[e.jsx(F,{fontSize:"larger",fontWeight:"bold",p:3,mb:2,rounded:"lg",textTransform:"capitalize",wordBreak:"break-word",children:u(t.title,20)}),e.jsx(n,{mb:3,textAlign:"center",children:u(t.description,30)})]}),e.jsxs(E,{justifyContent:"space-between",alignItems:"center",padding:"0 !important",children:[e.jsx(H,{as:k,to:`/products/${t.id}`,backgroundColor:"purple.600",color:"white",size:"sm",py:"20px",px:"10px",rightIcon:e.jsx(R,{size:20}),_hover:{backgroundColor:"purple.800"},rounded:"lg","aria-label":"التفاصيل",children:"التفاصيل"}),e.jsxs(f,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",gap:"5px",children:[t.discountPercentage>0?e.jsx(n,{color:"purple.600",fontSize:"larger",fontWeight:"semibold",children:g(t.price-t.price*(t.discountPercentage/100))}):null,e.jsx(n,{color:t.discountPercentage>0?"purple.300":"purple.600",fontSize:"large",fontWeight:"semibold",textDecoration:t.discountPercentage>0?"line-through":"none",children:g(t.price)})]})]})]})})};export{V as P};
