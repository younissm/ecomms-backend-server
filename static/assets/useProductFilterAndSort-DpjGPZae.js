import{c as Se,l as T,r as i,aB as he,j as e,a as B,ai as Y,g as Ie,d as c,e as g,m as fe,aC as oe,f as Pe,u as Ae,o as De,t as we,b as Be,ao as Fe,aq as Me,ar as Le}from"./index-B-wAYjFk.js";import{S as U}from"./chunk-IYS4KVU2-DhSEwTdN.js";import{S as me}from"./chunk-GOJLRND4-Cb4C_z-b.js";import{B as W}from"./chunk-PULVB27S-Ch_R_y_s.js";import{B as _e}from"./index-CVf2sffD.js";import{D as Re,a as Ee}from"./chunk-65IR7CTH-D3SaTXJX.js";import{M as $e}from"./chunk-4FCEGNGT-CqqiBJZ0.js";import{u as Oe,t as Ne,A as Z,a as ee,b as te,c as ne,d as se,R as xe,e as z}from"./chunk-RDF2AYID-DLmO7JGl.js";import{u as Ke}from"./chunk-56K2BSAJ-C_Q_2N6z.js";import{v as Ge}from"./chunk-3JHDQ75O-BEFCT4rR.js";import{u as qe}from"./chunk-7JBTTEVG-eGrrjdQK.js";import{I as He}from"./chunk-6QYXN73V-XiCQhsve.js";import{S as V}from"./chunk-ZHMYA64R-DG8BThpc.js";var[Ue,ze]=Se({name:"CheckboxGroupContext",strict:!1});function pe(a){return a&&he(a)&&he(a.target)}function Ve(a={}){const{defaultValue:d,value:n,onChange:t,isDisabled:m,isNative:o}=a,x=T(t),[u,p]=Oe({value:n,defaultValue:d||[],onChange:x}),f=i.useCallback(l=>{if(!u)return;const r=pe(l)?l.target.checked:!u.includes(l),v=pe(l)?l.target.value:l,h=r?[...u,v]:u.filter(k=>String(k)!==String(v));p(h)},[p,u]),j=i.useCallback((l={})=>({...l,[o?"checked":"isChecked"]:u.some(v=>String(l.value)===String(v)),onChange:f}),[f,o,u]);return{value:u,isDisabled:m,onChange:f,setValue:p,getCheckboxProps:j}}function ae(a){const{colorScheme:d,size:n,variant:t,children:m,isDisabled:o}=a,{value:x,onChange:u}=Ve(a),p=i.useMemo(()=>({size:n,onChange:u,colorScheme:d,value:x,variant:t,isDisabled:o}),[n,u,d,x,t,o]);return e.jsx(Ue,{value:p,children:m})}ae.displayName="CheckboxGroup";function Te(a){const[d,n]=i.useState(a),[t,m]=i.useState(!1);return a!==d&&(m(!0),n(a)),t}function We(a){return e.jsx(B.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...a,children:e.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Xe(a){return e.jsx(B.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...a,children:e.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Je(a){const{isIndeterminate:d,isChecked:n,...t}=a,m=d?Xe:We;return n||d?e.jsx(B.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(m,{...t})}):null}function Qe(a,d=[]){const n=Object.assign({},a);for(const t of d)t in n&&delete n[t];return n}function Ye(a={}){const d=Ke(a),{isDisabled:n,isReadOnly:t,isRequired:m,isInvalid:o,id:x,onBlur:u,onFocus:p,"aria-describedby":f}=d,{defaultChecked:j,isChecked:l,isFocusable:r,onChange:v,isIndeterminate:h,name:k,value:O,tabIndex:N=void 0,"aria-label":F,"aria-labelledby":M,"aria-invalid":I,...X}=a,L=Qe(X,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),_=T(v),K=T(u),R=T(p),[D,J]=i.useState(!1),[P,G]=i.useState(!1),[E,re]=i.useState(!1),[$,w]=i.useState(!1);i.useEffect(()=>Ne(J),[]);const y=i.useRef(null),[ie,ke]=i.useState(!0),[Ce,q]=i.useState(!!j),Q=l!==void 0,C=Q?l:Ce,le=i.useCallback(s=>{if(t||n){s.preventDefault();return}Q||q(C?s.target.checked:h?!0:s.target.checked),_==null||_(s)},[t,n,C,Q,h,_]);Y(()=>{y.current&&(y.current.indeterminate=!!h)},[h]),Ie(()=>{n&&G(!1)},[n,G]),Y(()=>{const s=y.current;if(!(s!=null&&s.form))return;const b=()=>{q(!!j)};return s.form.addEventListener("reset",b),()=>{var S;return(S=s.form)==null?void 0:S.removeEventListener("reset",b)}},[]);const ce=n&&!r,de=i.useCallback(s=>{s.key===" "&&w(!0)},[w]),ue=i.useCallback(s=>{s.key===" "&&w(!1)},[w]);Y(()=>{if(!y.current)return;y.current.checked!==C&&q(y.current.checked)},[y.current]);const ve=i.useCallback((s={},b=null)=>{const S=H=>{P&&H.preventDefault(),w(!0)};return{...s,ref:b,"data-active":c($),"data-hover":c(E),"data-checked":c(C),"data-focus":c(P),"data-focus-visible":c(P&&D),"data-indeterminate":c(h),"data-disabled":c(n),"data-invalid":c(o),"data-readonly":c(t),"aria-hidden":!0,onMouseDown:g(s.onMouseDown,S),onMouseUp:g(s.onMouseUp,()=>w(!1)),onMouseEnter:g(s.onMouseEnter,()=>re(!0)),onMouseLeave:g(s.onMouseLeave,()=>re(!1))}},[$,C,n,P,D,E,h,o,t]),be=i.useCallback((s={},b=null)=>({...s,ref:b,"data-active":c($),"data-hover":c(E),"data-checked":c(C),"data-focus":c(P),"data-focus-visible":c(P&&D),"data-indeterminate":c(h),"data-disabled":c(n),"data-invalid":c(o),"data-readonly":c(t)}),[$,C,n,P,D,E,h,o,t]),ge=i.useCallback((s={},b=null)=>({...L,...s,ref:fe(b,S=>{S&&ke(S.tagName==="LABEL")}),onClick:g(s.onClick,()=>{var S;ie||((S=y.current)==null||S.click(),requestAnimationFrame(()=>{var H;(H=y.current)==null||H.focus({preventScroll:!0})}))}),"data-disabled":c(n),"data-checked":c(C),"data-invalid":c(o)}),[L,n,C,o,ie]),je=i.useCallback((s={},b=null)=>({...s,ref:fe(y,b),type:"checkbox",name:k,value:O,id:x,tabIndex:N,onChange:g(s.onChange,le),onBlur:g(s.onBlur,K,()=>G(!1)),onFocus:g(s.onFocus,R,()=>G(!0)),onKeyDown:g(s.onKeyDown,de),onKeyUp:g(s.onKeyUp,ue),required:m,checked:C,disabled:ce,readOnly:t,"aria-label":F,"aria-labelledby":M,"aria-invalid":I?!!I:o,"aria-describedby":f,"aria-disabled":n,style:Ge}),[k,O,x,le,K,R,de,ue,m,C,ce,t,F,M,I,o,f,n,N]),ye=i.useCallback((s={},b=null)=>({...s,ref:b,onMouseDown:g(s.onMouseDown,Ze),"data-disabled":c(n),"data-checked":c(C),"data-invalid":c(o)}),[C,n,o]);return{state:{isInvalid:o,isFocused:P,isChecked:C,isActive:$,isHovered:E,isIndeterminate:h,isDisabled:n,isReadOnly:t,isRequired:m},getRootProps:ge,getCheckboxProps:ve,getIndicatorProps:be,getInputProps:je,getLabelProps:ye,htmlProps:L}}function Ze(a){a.preventDefault(),a.stopPropagation()}var et={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},tt={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},nt=oe({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),st=oe({from:{opacity:0},to:{opacity:1}}),at=oe({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),A=Pe(function(d,n){const t=ze(),m={...t,...d},o=Ae("Checkbox",m),x=De(d),{spacing:u="0.5rem",className:p,children:f,iconColor:j,iconSize:l,icon:r=e.jsx(Je,{}),isChecked:v,isDisabled:h=t==null?void 0:t.isDisabled,onChange:k,inputProps:O,...N}=x;let F=v;t!=null&&t.value&&x.value&&(F=t.value.includes(x.value));let M=k;t!=null&&t.onChange&&x.value&&(M=we(t.onChange,k));const{state:I,getInputProps:X,getCheckboxProps:L,getLabelProps:_,getRootProps:K}=Ye({...N,isDisabled:h,isChecked:F,onChange:M}),R=Te(I.isChecked),D=i.useMemo(()=>({animation:R?I.isIndeterminate?`${st} 20ms linear, ${at} 200ms linear`:`${nt} 200ms linear`:void 0,fontSize:l,color:j,...o.icon}),[j,l,R,I.isIndeterminate,o.icon]),J=i.cloneElement(r,{__css:D,isIndeterminate:I.isIndeterminate,isChecked:I.isChecked});return e.jsxs(B.label,{__css:{...tt,...o.container},className:Be("chakra-checkbox",p),...K(),children:[e.jsx("input",{className:"chakra-checkbox__input",...X(O,n)}),e.jsx(B.span,{__css:{...et,...o.control},className:"chakra-checkbox__control",...L(),children:J}),f&&e.jsx(B.span,{className:"chakra-checkbox__label",..._(),__css:{marginStart:u,...o.label},children:f})]})});A.displayName="Checkbox";const vt=()=>e.jsxs(W,{children:[e.jsx(me,{mt:"4",h:200,rounded:"md",spacing:"4"}),e.jsx(U,{mt:"4",w:20,noOfLines:1,spacing:"4",mx:"auto"}),e.jsx(U,{mt:"4",noOfLines:1,spacing:"4"}),e.jsx(U,{mt:"4",noOfLines:1,spacing:"4"}),e.jsx(U,{mt:"4",noOfLines:1,spacing:"4"}),e.jsx(me,{mt:"4",h:50,rounded:"md",spacing:"4"})]}),bt=({sortBy:a,setSortBy:d,sortOrder:n,setSortOrder:t,priceFilters:m,setPriceFilters:o,categoryFilters:x,setCategoryFilters:u,data:p})=>{const{isOpen:f,onOpen:j,onClose:l}=qe();return e.jsxs(e.Fragment,{children:[e.jsx(He,{color:"white",backgroundColor:"purple.600",_hover:{backgroundColor:"purple.800"},onClick:j,icon:e.jsx(_e,{size:24}),"aria-label":"فرز و ترتيب"}),e.jsxs(Re,{isOpen:f,placement:"right",onClose:l,children:[e.jsx(Fe,{}),e.jsxs(Ee,{children:[e.jsx($e,{}),e.jsx(Me,{children:"فرز و ترتيب"}),e.jsxs(Le,{children:[e.jsx(Z,{defaultIndex:[0],allowMultiple:!0,children:e.jsxs(ee,{children:[e.jsx("h2",{children:e.jsxs(te,{children:[e.jsx(W,{as:"span",flex:"1",textAlign:"left",children:"ترتيب"}),e.jsx(ne,{})]})}),e.jsxs(se,{pb:4,children:[e.jsx(xe,{value:a,onChange:d,children:e.jsxs(V,{direction:"row",children:[e.jsx(z,{value:"name",children:"ابدجديا"}),e.jsx(z,{value:"price",children:"السعر"})]})}),e.jsx(xe,{value:n,onChange:t,children:e.jsxs(V,{direction:"row",children:[e.jsx(z,{value:"asc",children:"تصاعدي"}),e.jsx(z,{value:"desc",children:"تنازلي"})]})})]})]})}),e.jsx(Z,{defaultIndex:[0],allowMultiple:!0,children:e.jsxs(ee,{children:[e.jsx("h2",{children:e.jsxs(te,{children:[e.jsx(W,{as:"span",flex:"1",textAlign:"left",children:"السعر"}),e.jsx(ne,{})]})}),e.jsx(se,{pb:4,children:e.jsx(ae,{value:m,onChange:r=>o(r),children:e.jsxs(V,{children:[e.jsx(A,{value:"0-99",children:"$0-$99"}),e.jsx(A,{value:"100-499",children:"$100-$499"}),e.jsx(A,{value:"500-999",children:"$500-$999"}),e.jsx(A,{value:"1000-4999",children:"$1000-$4999"}),e.jsx(A,{value:"5000+",children:"$5000+"})]})})})]})}),p&&e.jsx(Z,{defaultIndex:[0],allowMultiple:!0,children:e.jsxs(ee,{children:[e.jsx("h2",{children:e.jsxs(te,{children:[e.jsx(W,{as:"span",flex:"1",textAlign:"left",children:"الفئات"}),e.jsx(ne,{})]})}),e.jsx(se,{pb:4,children:e.jsx(ae,{value:x,onChange:r=>{u(r)},children:e.jsx(V,{children:p.products.reduce((r,v)=>{const h=v.category;if(h){const k=h.trim();k&&!r.includes(k)&&r.push(k)}return r},[]).map(r=>e.jsx(A,{value:r,children:r},r))})})})]})})]})]})]})]})},gt=a=>{const[d,n]=i.useState("name"),[t,m]=i.useState("asc"),[o,x]=i.useState([]),[u,p]=i.useState([]);let f=a;return{sortBy:d,setSortBy:n,sortOrder:t,setSortOrder:m,priceFilters:o,setPriceFilters:x,categoryFilters:u,setCategoryFilters:p,filteredProducts:(()=>{if(o.length>0&&(f=f.filter(l=>{const r=l.price;return o.some(v=>{const[h,k]=v.split("-");return k?r>=parseInt(h)&&r<=parseInt(k):r>=parseInt(h)})})),u.length>0){const l=new Set(u);f=f.filter(r=>l.has(r.category))}return f.sort((l,r)=>d==="name"?t==="asc"?l.title.localeCompare(r.title):r.title.localeCompare(l.title):d==="price"?t==="asc"?l.price-r.price:r.price-l.price:0),f})()}};export{bt as F,vt as P,gt as u};
