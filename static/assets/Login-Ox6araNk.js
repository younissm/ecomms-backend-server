import{Q as k,S as E,U as H,x as I,V as z,r as p,j as s,y as u,F as T,T as g,L as x,B as M,W as O}from"./index-B-wAYjFk.js";import{u as R,F as h}from"./index.esm-B6lPUqVX.js";import{F as f,o as V,L as W}from"./validationsSchemas-dq6dAiKP.js";import{B as A}from"./BackButton-AaNhvjFK.js";import{l as D}from"./index-CVf2sffD.js";import{F as j}from"./chunk-56K2BSAJ-C_Q_2N6z.js";import{B as b}from"./chunk-PULVB27S-Ch_R_y_s.js";import{S as e}from"./chunk-ZHMYA64R-DG8BThpc.js";import{H as N}from"./chunk-7OLJDQMT-BuJdq_n8.js";import{I as w}from"./chunk-6CVSDS6C-BrWJNjO-.js";import"./chunk-6QYXN73V-XiCQhsve.js";function $(){var d,m;const{register:n,handleSubmit:S,formState:{errors:r}}=R({resolver:V(W)}),l=k(),y=E(),o=H(),{loading:F,error:t,success:c}=I(z);function L(i){const{username:a,password:B}=i;y(O({username:a,password:B}))}p.useEffect(()=>{c&&(o({title:"تم تسجيل الدخول بنجاح",status:"success",duration:3e3,isClosable:!0,position:"top-right",icon:s.jsx(D,{size:20})}),l("/"))},[c,l,o]),p.useEffect(()=>{var i,a;t&&o({title:"حدث خطأ أثناء تسجيل الدخول",description:((a=(i=t.response)==null?void 0:i.data)==null?void 0:a.message)&&"البريد الالكتروني او كلمة المرور غير صحيح"||t.message,status:"error",duration:3e3,isClosable:!0,position:"top-right"})},[t,o]);const C=u("gray.50","gray.800"),v=u("white","gray.700");return s.jsxs(s.Fragment,{children:[s.jsx(b,{position:"absolute",top:"50px",left:"80px",children:s.jsx(A,{})}),s.jsx(T,{minH:"100vh",align:"center",justify:"center",bg:C,rounded:"lg",children:s.jsxs(e,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[s.jsx(e,{align:"center",children:s.jsx(N,{fontSize:"4xl",children:"سجل الدخول الى حسابك"})}),s.jsx(b,{rounded:"lg",bg:v,boxShadow:"lg",p:8,as:"form",onSubmit:S(L),children:s.jsxs(e,{spacing:4,children:[s.jsxs(j,{id:"email",isInvalid:!!r.email,children:[s.jsx(h,{children:"البريد الالكتروني"}),s.jsx(w,{type:"email",...n("username")}),s.jsx(f,{color:"red.500",children:(d=r.email)==null?void 0:d.message})]}),s.jsxs(j,{id:"password",isInvalid:!!r.password,children:[s.jsx(h,{children:"كلمة السر"}),s.jsx(w,{type:"password",...n("password")}),s.jsx(f,{color:"red.500",children:(m=r.password)==null?void 0:m.message})]}),s.jsxs(e,{spacing:10,children:[s.jsxs(e,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:[s.jsx(g,{as:x,to:"/signup",color:"blue.400",children:"مستخدم جديد؟"}),s.jsx(g,{as:x,to:"/reset-password",color:"blue.400",children:"نسيت كلمة المرور؟"})]}),s.jsx(M,{backgroundColor:"purple.600",color:"white",size:"large",p:"5",_hover:{backgroundColor:"purple.800"},type:"submit",isLoading:F,children:"سجل الدخول"})]})]})})]})})]})}export{$ as default};
